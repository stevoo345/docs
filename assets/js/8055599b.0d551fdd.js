"use strict";(self.webpackChunkdocu=self.webpackChunkdocu||[]).push([[86],{8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var l=r(6540);const s={},i=l.createContext(s);function a(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),l.createElement(i.Provider,{value:n},e.children)}},9696:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"printer/cups-setup","title":"Cups setup","description":"Usb Bus durchreichen in lxc container","source":"@site/docs/printer/cups-setup.md","sourceDirName":"printer","slug":"/printer/cups-setup","permalink":"/docs/printer/cups-setup","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Printer","permalink":"/docs/category/printer"},"next":{"title":"Proxmox","permalink":"/docs/category/proxmox"}}');var s=r(4848),i=r(8453);const a={},c="Cups setup",t={},d=[{value:"Usb Bus durchreichen in lxc container",id:"usb-bus-durchreichen-in-lxc-container",level:2},{value:"Install cups",id:"install-cups",level:2},{value:"Install printer drivers",id:"install-printer-drivers",level:2},{value:"Cups einrichten",id:"cups-einrichten",level:2},{value:"Scanner einrichten",id:"scanner-einrichten",level:2},{value:"Install Sane",id:"install-sane",level:3},{value:"Find Scanner",id:"find-scanner",level:3},{value:"Try Scanner",id:"try-scanner",level:3},{value:"Test Scan",id:"test-scan",level:3},{value:"Hilfe bei Fehlern",id:"hilfe-bei-fehlern",level:3},{value:"Unplug and Plug in again",id:"unplug-and-plug-in-again",level:4},{value:"Falls Rechte fehlen f\xfcr Drucker",id:"falls-rechte-fehlen-f\xfcr-drucker",level:4},{value:"List all files",id:"list-all-files",level:4},{value:"Sane looking in wrong directory",id:"sane-looking-in-wrong-directory",level:4}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cups-setup",children:"Cups setup"})}),"\n",(0,s.jsx)(n.h2,{id:"usb-bus-durchreichen-in-lxc-container",children:"Usb Bus durchreichen in lxc container"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-config",metastring:'title="/etc/pve/lxc/101.conf"',children:"lxc.mount.entry: /dev/bus/usb dev/bus/usb none bind,create=dir 0 0\n"})}),"\n",(0,s.jsx)(n.h2,{id:"install-cups",children:"Install cups"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"apt-get install cups\ncupsctl --share-printers --remote-admin\nsystemctl restart cups\n"})}),"\n",(0,s.jsx)(n.h2,{id:"install-printer-drivers",children:"Install printer drivers"}),"\n",(0,s.jsx)(n.p,{children:"Link unten ist f\xfcr alle driver gleichzeitig."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"wget https://download.brother.com/welcome/dlf006893/linux-brprinter-installer-2.2.4-1.gz\ngunzip linux-brprinter-installer-2.2.4-1.gz\nbash linux-brprinter-installer-2.1.1-1 DCP-195C\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alles mit yes best\xe4tigen und device URI -> A (Auto)"}),"\n",(0,s.jsx)(n.h2,{id:"cups-einrichten",children:"Cups einrichten"}),"\n",(0,s.jsxs)(n.p,{children:["Auf ",(0,s.jsx)(n.a,{href:"http://192.168.178.113:631/",children:"http://192.168.178.113:631/"})," gehen und Verwaltung.\nUsername + Passwort: root + root PW.\nDrucker hinzuf\xfcgen -> Brother DCP-195C -> Guide folgen.\nAm Ende \xfcber Drucker und test druck machen."]}),"\n",(0,s.jsx)(n.h2,{id:"scanner-einrichten",children:"Scanner einrichten"}),"\n",(0,s.jsx)(n.h3,{id:"install-sane",children:"Install Sane"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"apt-get install sane\napt install libusb-0.1-4 #wichtig f\xfcr drucker\n"})}),"\n",(0,s.jsx)(n.h3,{id:"find-scanner",children:"Find Scanner"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sane-find-scanner\n"})}),"\n",(0,s.jsx)(n.h3,{id:"try-scanner",children:"Try Scanner"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"scanimage -L #or  for more info SANE_DEBUG_DLL=3 scanimage -L\n"})}),"\n",(0,s.jsx)(n.h3,{id:"test-scan",children:"Test Scan"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'title="Color PDF"',children:'scanimage --mode "24bit Color" --resolution 300 --format=pdf > doc.pdf\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'title="Black and White PDF"',children:'scanimage --mode "Black & White" --resolution 300 --format=pdf > doc.pdf\n'})}),"\n",(0,s.jsx)(n.h3,{id:"hilfe-bei-fehlern",children:"Hilfe bei Fehlern"}),"\n",(0,s.jsx)(n.h4,{id:"unplug-and-plug-in-again",children:"Unplug and Plug in again"}),"\n",(0,s.jsx)(n.p,{children:"Manchmal scheint es als w\xe4re gerade nach Installationen besser, wenn man den Drucker ein und wieder einsteckt."}),"\n",(0,s.jsx)(n.h4,{id:"falls-rechte-fehlen-f\xfcr-drucker",children:"Falls Rechte fehlen f\xfcr Drucker"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'title="Black and White PDF"',children:" lsusb | grep -i brother | sed 's/://' | awk '{printf \"/dev/bus/usb/%s/%s\", $2,$4}' | xargs -i -t chmod 666 \"{}\"\n # Ergebnis ausf\xfchren\n"})}),"\n",(0,s.jsx)(n.h4,{id:"list-all-files",children:"List all files"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"dpkg -L brscan3 | sort\n"})}),"\n",(0,s.jsx)(n.h4,{id:"sane-looking-in-wrong-directory",children:"Sane looking in wrong directory"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'mkdir -p /usr/lib/x86_64-linux-gnu/sane\nln -s /usr/lib64/sane/libsane-brother3.so.1 /usr/lib/x86_64-linux-gnu/sane/libsane-brother3.so.1\nln -s /usr/lib64/sane/libsane-brother3.so.1 /usr/lib/x86_64-linux-gnu/sane/libsane-brother3.so\nln -s /usr/lib64/libbrscandec3.so.1 /usr/lib/x86_64-linux-gnu/libbrscandec3.so.1\nln -s /usr/lib64/libbrscandec3.so.1 /usr/lib/x86_64-linux-gnu/libbrscandec3.so\nldconfig\nprintf "usb 0x04f9 0x0222\\n" > /etc/sane.d/brother3.conf\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);